<!DOCTYPE html>
<html>
  <head>
    <title>Outcome documentation</title>
    
      <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="revised" content="2025-05-21T12:40:14 UTC">
<title>Plugging a library into `boost::system::error_code` :: Outcome documentation</title>
<link rel="shortcut icon" href="/outcome/images/favicon.png" type="image/x-icon" />
<link href="/outcome/css/font-awesome.min.css" rel="stylesheet">
<link href="/outcome/css/nucleus.css" rel="stylesheet">
<link href="/outcome/theme-flex/style.css" rel="stylesheet">

<link rel="stylesheet" href="/outcome/css/bootstrap.min.css">
<script src="/outcome/js/jquery-2.x.min.js"></script>
<script type="text/javascript">
      var baseurl = "https:\/\/ned14.github.io\/outcome\/";
</script>
<link href="/outcome/css/local.css" rel="stylesheet">


    
  </head>
  <body data-url="/outcome/motivation/plug_error_code2/">
    
      <header>
  <div class="logo">
    
	
  
    <p>Outcome 2.2 library documentation</p>

  


  </div>
  <div class="burger"><a href="javascript:void(0);" style="font-size:15px;">&#9776;</a></div>
    <nav class="shortcuts">
            <li class="" role="">
                <a href="https://github.com/ned14/outcome"  rel="noopener">
                  <i class='fa fa-github'></i> Outcome 2.2 github repo
                </a>
            </li>
            <li class="" role="">
                <a href="/outcome/credits"  rel="noopener">
                  <i class='fa fa-bullhorn'></i> Acknowledgements
                </a>
            </li>
    </nav>
</header>
<article>
  <aside>
    <ul class="menu">
          <li data-nav-id="/outcome/" class="dd-item">
          <a href="/outcome/">
            <i class="fa fa-fw fa-home"></i>
          </a>
          </li>
    <li data-nav-id="/outcome/requirements/" class="dd-item
        ">
      <div>
      <a href="/outcome/requirements/">Prerequisites</a>
      </div>
    </li>
    <li data-nav-id="/outcome/build/" class="dd-item
        ">
      <div>
      <a href="/outcome/build/">Build and install</a>
      </div>
    </li>
    <li data-nav-id="/outcome/alternatives/" class="dd-item haschildren
        ">
      <div>
      <a href="/outcome/alternatives/">Review of Error Handling Frameworks</a><i class="fa fa-angle-right fa-lg category-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/outcome/alternatives/exceptions/" class="dd-item">
        <div>
          <a href="/outcome/alternatives/exceptions/">
            std exception throws
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/alternatives/error_code/" class="dd-item">
        <div>
          <a href="/outcome/alternatives/error_code/">
            std error codes
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/alternatives/expected/" class="dd-item">
        <div>
          <a href="/outcome/alternatives/expected/">
            std expected
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/alternatives/outcome/" class="dd-item">
        <div>
          <a href="/outcome/alternatives/outcome/">
            Outcome (proposed std result)
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/alternatives/leaf/" class="dd-item">
        <div>
          <a href="/outcome/alternatives/leaf/">
            LEAF
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/outcome/motivation/" class="dd-item parent haschildren
        ">
      <div>
      <a href="/outcome/motivation/">Motivation</a>
            <i class="fa fa-angle-down fa-lg category-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/outcome/motivation/exceptions/" class="dd-item">
        <div>
          <a href="/outcome/motivation/exceptions/">
            Exceptions
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/motivation/errno/" class="dd-item">
        <div>
          <a href="/outcome/motivation/errno/">
            errno
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/motivation/error_codes/" class="dd-item">
        <div>
          <a href="/outcome/motivation/error_codes/">
            Error codes
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/motivation/std_error_code/" class="dd-item">
        <div>
          <a href="/outcome/motivation/std_error_code/">
            std::error_code
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/motivation/plug_error_code/" class="dd-item">
        <div>
          <a href="/outcome/motivation/plug_error_code/">
            Plugging a library into <code>std::error_code</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/motivation/plug_error_code2/" class="dd-item active">
        <div>
          <a href="/outcome/motivation/plug_error_code2/">
            Plugging a library into <code>boost::system::error_code</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/motivation/narrow_contract/" class="dd-item">
        <div>
          <a href="/outcome/motivation/narrow_contract/">
            Narrow contracts
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/outcome/abi-stability/" class="dd-item
        ">
      <div>
      <a href="/outcome/abi-stability/">Future ABI stability guarantees</a>
      </div>
    </li>
    <li data-nav-id="/outcome/tutorial/" class="dd-item haschildren
        ">
      <div>
      <a href="/outcome/tutorial/">Tutorial</a><i class="fa fa-angle-right fa-lg category-icon"></i>
      </div>
        <ul>
    <li data-nav-id="/outcome/tutorial/essential/" class="dd-item haschildren
        ">
      <div>
      <a href="/outcome/tutorial/essential/">Essential</a><i class="fa fa-angle-right fa-lg category-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/outcome/tutorial/essential/before/" class="dd-item">
        <div>
          <a href="/outcome/tutorial/essential/before/">
            Before we begin
          </a>
        </div>
    </li>
    <li data-nav-id="/outcome/tutorial/essential/result/" class="dd-item haschildren
        ">
      <div>
      <a href="/outcome/tutorial/essential/result/">result&lt;&gt;</a><i class="fa fa-angle-right fa-lg category-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/outcome/tutorial/essential/result/inspecting/" class="dd-item">
        <div>
          <a href="/outcome/tutorial/essential/result/inspecting/">
            Inspecting result<T, EC>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/tutorial/essential/result/try/" class="dd-item">
        <div>
          <a href="/outcome/tutorial/essential/result/try/">
            TRY operations
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/tutorial/essential/result/try_greedy/" class="dd-item">
        <div>
          <a href="/outcome/tutorial/essential/result/try_greedy/">
            TRY is greedy
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/tutorial/essential/result/try_ref/" class="dd-item">
        <div>
          <a href="/outcome/tutorial/essential/result/try_ref/">
            TRY avoiding copy/move
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/outcome/tutorial/essential/outcome/" class="dd-item haschildren
        ">
      <div>
      <a href="/outcome/tutorial/essential/outcome/">outcome&lt;&gt;</a><i class="fa fa-angle-right fa-lg category-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/outcome/tutorial/essential/outcome/inspecting/" class="dd-item">
        <div>
          <a href="/outcome/tutorial/essential/outcome/inspecting/">
            Inspecting outcome<T, EC, EP>
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/outcome/tutorial/essential/no-value/" class="dd-item haschildren
        ">
      <div>
      <a href="/outcome/tutorial/essential/no-value/">No-value policies</a><i class="fa fa-angle-right fa-lg category-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/outcome/tutorial/essential/no-value/custom/" class="dd-item">
        <div>
          <a href="/outcome/tutorial/essential/no-value/custom/">
            A custom no-value policy
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/tutorial/essential/no-value/builtin/" class="dd-item">
        <div>
          <a href="/outcome/tutorial/essential/no-value/builtin/">
            Built-in policies
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/outcome/tutorial/essential/coroutines/" class="dd-item haschildren
        ">
      <div>
      <a href="/outcome/tutorial/essential/coroutines/">Coroutines</a><i class="fa fa-angle-right fa-lg category-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/outcome/tutorial/essential/coroutines/try/" class="dd-item">
        <div>
          <a href="/outcome/tutorial/essential/coroutines/try/">
            Coroutine TRY operation
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/tutorial/essential/coroutines/awaitables/" class="dd-item">
        <div>
          <a href="/outcome/tutorial/essential/coroutines/awaitables/">
            Coroutine awaitables
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/tutorial/essential/coroutines/returning/" class="dd-item">
        <div>
          <a href="/outcome/tutorial/essential/coroutines/returning/">
            Returning Outcome types from Coroutines
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/tutorial/essential/coroutines/co_await/" class="dd-item">
        <div>
          <a href="/outcome/tutorial/essential/coroutines/co_await/">
            <code>operator co_await</code> as TRY operator
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/outcome/tutorial/essential/conventions/" class="dd-item
        ">
      <div>
      <a href="/outcome/tutorial/essential/conventions/">Conventions</a>
      </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/outcome/tutorial/advanced/" class="dd-item haschildren
        ">
      <div>
      <a href="/outcome/tutorial/advanced/">Advanced</a><i class="fa fa-angle-right fa-lg category-icon"></i>
      </div>
        <ul>
    <li data-nav-id="/outcome/tutorial/advanced/payload/" class="dd-item haschildren
        ">
      <div>
      <a href="/outcome/tutorial/advanced/payload/">Custom payloads</a><i class="fa fa-angle-right fa-lg category-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/outcome/tutorial/advanced/payload/copy_file/" class="dd-item">
        <div>
          <a href="/outcome/tutorial/advanced/payload/copy_file/">
            The Filesystem TS
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/tutorial/advanced/payload/copy_file2/" class="dd-item">
        <div>
          <a href="/outcome/tutorial/advanced/payload/copy_file2/">
            Upgrading the Filesystem TS
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/tutorial/advanced/payload/copy_file3/" class="dd-item">
        <div>
          <a href="/outcome/tutorial/advanced/payload/copy_file3/">
            Auto-throwing filesystem_error
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/outcome/tutorial/advanced/constructors/" class="dd-item haschildren
        ">
      <div>
      <a href="/outcome/tutorial/advanced/constructors/">Result returning constructors</a><i class="fa fa-angle-right fa-lg category-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/outcome/tutorial/advanced/constructors/two-phase-init/" class="dd-item">
        <div>
          <a href="/outcome/tutorial/advanced/constructors/two-phase-init/">
            Two phase construction
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/tutorial/advanced/constructors/file_handle/" class="dd-item">
        <div>
          <a href="/outcome/tutorial/advanced/constructors/file_handle/">
            A file handle
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/tutorial/advanced/constructors/static-constructor/" class="dd-item">
        <div>
          <a href="/outcome/tutorial/advanced/constructors/static-constructor/">
            Phase 2 construction
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/tutorial/advanced/constructors/metaprogrammg1/" class="dd-item">
        <div>
          <a href="/outcome/tutorial/advanced/constructors/metaprogrammg1/">
            Phase 3
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/tutorial/advanced/constructors/metaprogrammg2/" class="dd-item">
        <div>
          <a href="/outcome/tutorial/advanced/constructors/metaprogrammg2/">
            construct<T>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/tutorial/advanced/constructors/metaprogrammg3/" class="dd-item">
        <div>
          <a href="/outcome/tutorial/advanced/constructors/metaprogrammg3/">
            Alternatives
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/outcome/tutorial/advanced/hooks/" class="dd-item haschildren
        ">
      <div>
      <a href="/outcome/tutorial/advanced/hooks/">Hooking events</a><i class="fa fa-angle-right fa-lg category-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/outcome/tutorial/advanced/hooks/keeping_state/" class="dd-item">
        <div>
          <a href="/outcome/tutorial/advanced/hooks/keeping_state/">
            Keeping state
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/tutorial/advanced/hooks/adl_bridging/" class="dd-item">
        <div>
          <a href="/outcome/tutorial/advanced/hooks/adl_bridging/">
            ADL bridging
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/tutorial/advanced/hooks/hook_result/" class="dd-item">
        <div>
          <a href="/outcome/tutorial/advanced/hooks/hook_result/">
            Hook result
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/tutorial/advanced/hooks/poke_exception/" class="dd-item">
        <div>
          <a href="/outcome/tutorial/advanced/hooks/poke_exception/">
            Custom exception ptr
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/tutorial/advanced/hooks/hook_outcome/" class="dd-item">
        <div>
          <a href="/outcome/tutorial/advanced/hooks/hook_outcome/">
            Hook outcome
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/outcome/tutorial/advanced/interop/" class="dd-item haschildren
        ">
      <div>
      <a href="/outcome/tutorial/advanced/interop/">Interoperation</a><i class="fa fa-angle-right fa-lg category-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/outcome/tutorial/advanced/interop/problem/" class="dd-item">
        <div>
          <a href="/outcome/tutorial/advanced/interop/problem/">
            Incommensurate E types
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/tutorial/advanced/interop/value-or-error/" class="dd-item">
        <div>
          <a href="/outcome/tutorial/advanced/interop/value-or-error/">
            value_or_error Concept
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/tutorial/advanced/interop/httplib/" class="dd-item">
        <div>
          <a href="/outcome/tutorial/advanced/interop/httplib/">
            The HTTP library
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/tutorial/advanced/interop/tidylib/" class="dd-item">
        <div>
          <a href="/outcome/tutorial/advanced/interop/tidylib/">
            The HTMLTidy library
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/tutorial/advanced/interop/filelib/" class="dd-item">
        <div>
          <a href="/outcome/tutorial/advanced/interop/filelib/">
            The File I/O library
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/tutorial/advanced/interop/app/" class="dd-item">
        <div>
          <a href="/outcome/tutorial/advanced/interop/app/">
            The Application
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/tutorial/advanced/interop/app-map-httplib1/" class="dd-item">
        <div>
          <a href="/outcome/tutorial/advanced/interop/app-map-httplib1/">
            Mapping the HTTP library into the Application <code>1/2</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/tutorial/advanced/interop/app-map-httplib2/" class="dd-item">
        <div>
          <a href="/outcome/tutorial/advanced/interop/app-map-httplib2/">
            Mapping the HTTP library into the Application <code>2/2</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/tutorial/advanced/interop/app-map-filelib/" class="dd-item">
        <div>
          <a href="/outcome/tutorial/advanced/interop/app-map-filelib/">
            Mapping the File I/O library into the Application
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/tutorial/advanced/interop/app-map-tidylib/" class="dd-item">
        <div>
          <a href="/outcome/tutorial/advanced/interop/app-map-tidylib/">
            Mapping the HTMLTidy library into the Application
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/tutorial/advanced/interop/app-go/" class="dd-item">
        <div>
          <a href="/outcome/tutorial/advanced/interop/app-go/">
            In use
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/tutorial/advanced/interop/conclusion/" class="dd-item">
        <div>
          <a href="/outcome/tutorial/advanced/interop/conclusion/">
            Conclusion
          </a>
        </div>
    </li>
        </ul>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li data-nav-id="/outcome/recipes/" class="dd-item haschildren
        ">
      <div>
      <a href="/outcome/recipes/">Recipes</a><i class="fa fa-angle-right fa-lg category-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/outcome/recipes/asio-integration/" class="dd-item">
        <div>
          <a href="/outcome/recipes/asio-integration/">
            ASIO/Networking TS : Boost &lt; 1.70
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/recipes/asio-integration-1-70/" class="dd-item">
        <div>
          <a href="/outcome/recipes/asio-integration-1-70/">
            ASIO/Networking TS: Boost &gt;= 1.70
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/recipes/foreign-try/" class="dd-item">
        <div>
          <a href="/outcome/recipes/foreign-try/">
            Extending <code>OUTCOME_TRY</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/recipes/rust/" class="dd-item">
        <div>
          <a href="/outcome/recipes/rust/">
            Rust FFI
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/outcome/experimental/" class="dd-item haschildren
        ">
      <div>
      <a href="/outcome/experimental/">Experimental</a><i class="fa fa-angle-right fa-lg category-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/outcome/experimental/advantages/" class="dd-item">
        <div>
          <a href="/outcome/experimental/advantages/">
            The main advantages
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/experimental/map/" class="dd-item">
        <div>
          <a href="/outcome/experimental/map/">
            Approximate map between error code designs
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/experimental/differences/" class="dd-item">
        <div>
          <a href="/outcome/experimental/differences/">
            Major differences
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/experimental/status_result/" class="dd-item">
        <div>
          <a href="/outcome/experimental/status_result/">
            <code>status_result</code> and <code>status_outcome</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/experimental/outcome/" class="dd-item">
        <div>
          <a href="/outcome/experimental/outcome/">
            Tying it all together
          </a>
        </div>
    </li>
    <li data-nav-id="/outcome/experimental/worked-example/" class="dd-item haschildren
        ">
      <div>
      <a href="/outcome/experimental/worked-example/">Worked example: Custom domain (the short way)</a><i class="fa fa-angle-right fa-lg category-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/outcome/experimental/worked-example/implicit-construction/" class="dd-item">
        <div>
          <a href="/outcome/experimental/worked-example/implicit-construction/">
            Implicit construction
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/outcome/experimental/worked-example-long/" class="dd-item haschildren
        ">
      <div>
      <a href="/outcome/experimental/worked-example-long/">Worked example: Custom domain (the long way)</a><i class="fa fa-angle-right fa-lg category-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/outcome/experimental/worked-example-long/preamble/" class="dd-item">
        <div>
          <a href="/outcome/experimental/worked-example-long/preamble/">
            Define a custom code domain
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/experimental/worked-example-long/value_type/" class="dd-item">
        <div>
          <a href="/outcome/experimental/worked-example-long/value_type/">
            The payload
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/experimental/worked-example-long/constructor/" class="dd-item">
        <div>
          <a href="/outcome/experimental/worked-example-long/constructor/">
            The constructor
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/experimental/worked-example-long/string_ref/" class="dd-item">
        <div>
          <a href="/outcome/experimental/worked-example-long/string_ref/">
            String refs
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/experimental/worked-example-long/message/" class="dd-item">
        <div>
          <a href="/outcome/experimental/worked-example-long/message/">
            Redefining <code>message()</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/experimental/worked-example-long/source/" class="dd-item">
        <div>
          <a href="/outcome/experimental/worked-example-long/source/">
            Constexpr domain source
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/experimental/worked-example-long/implicit_conversion/" class="dd-item">
        <div>
          <a href="/outcome/experimental/worked-example-long/implicit_conversion/">
            Implicit conversion
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/outcome/experimental/c-api/" class="dd-item haschildren
        ">
      <div>
      <a href="/outcome/experimental/c-api/">Using Outcome from C code</a><i class="fa fa-angle-right fa-lg category-icon"></i>
      </div>
        <ul>
    <li data-nav-id="/outcome/experimental/c-api/from-cxx/" class="dd-item haschildren
        ">
      <div>
      <a href="/outcome/experimental/c-api/from-cxx/">Calling C++ from C</a><i class="fa fa-angle-right fa-lg category-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/outcome/experimental/c-api/from-cxx/example/" class="dd-item">
        <div>
          <a href="/outcome/experimental/c-api/from-cxx/example/">
            Example C++ function
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/experimental/c-api/from-cxx/example2/" class="dd-item">
        <div>
          <a href="/outcome/experimental/c-api/from-cxx/example2/">
            Calling it from C
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/outcome/experimental/c-api/from-c/" class="dd-item haschildren
        ">
      <div>
      <a href="/outcome/experimental/c-api/from-c/">C Results</a><i class="fa fa-angle-right fa-lg category-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/outcome/experimental/c-api/from-c/system_code/" class="dd-item">
        <div>
          <a href="/outcome/experimental/c-api/from-c/system_code/">
            C system error results
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/experimental/c-api/from-c/declare/" class="dd-item">
        <div>
          <a href="/outcome/experimental/c-api/from-c/declare/">
            Declare a Result
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/experimental/c-api/from-c/use/" class="dd-item">
        <div>
          <a href="/outcome/experimental/c-api/from-c/use/">
            Using a Result
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/experimental/c-api/from-c/try/" class="dd-item">
        <div>
          <a href="/outcome/experimental/c-api/from-c/try/">
            TRY a C Result
          </a>
        </div>
    </li>
        </ul>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li data-nav-id="/outcome/reference/" class="dd-item haschildren
        ">
      <div>
      <a href="/outcome/reference/">API reference</a><i class="fa fa-angle-right fa-lg category-icon"></i>
      </div>
        <ul>
    <li data-nav-id="/outcome/reference/macros/" class="dd-item haschildren
        ">
      <div>
      <a href="/outcome/reference/macros/">Macros</a><i class="fa fa-angle-right fa-lg category-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/outcome/reference/macros/template/" class="dd-item">
        <div>
          <a href="/outcome/reference/macros/template/">
            Constrained template macros
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/macros/version/" class="dd-item">
        <div>
          <a href="/outcome/reference/macros/version/">
            Version macros
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/macros/co_try/" class="dd-item">
        <div>
          <a href="/outcome/reference/macros/co_try/">
            <code>OUTCOME_CO_TRY(var, expr)</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/macros/co_tryv/" class="dd-item">
        <div>
          <a href="/outcome/reference/macros/co_tryv/">
            <code>OUTCOME_CO_TRYV(expr)/OUTCOME_CO_TRY(expr)</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/macros/co_tryv2/" class="dd-item">
        <div>
          <a href="/outcome/reference/macros/co_tryv2/">
            <code>OUTCOME_CO_TRYV2(spec, expr)</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/macros/co_tryv2_failure_likely/" class="dd-item">
        <div>
          <a href="/outcome/reference/macros/co_tryv2_failure_likely/">
            <code>OUTCOME_CO_TRYV2_FAILURE_LIKELY(spec, expr)</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/macros/co_tryv_failure_likely/" class="dd-item">
        <div>
          <a href="/outcome/reference/macros/co_tryv_failure_likely/">
            <code>OUTCOME_CO_TRYV_FAILURE_LIKELY(expr)/OUTCOME_CO_TRY_FAILURE_LIKELY(expr)</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/macros/co_tryx/" class="dd-item">
        <div>
          <a href="/outcome/reference/macros/co_tryx/">
            <code>OUTCOME_CO_TRYX(expr)</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/macros/co_tryx_failure_likely/" class="dd-item">
        <div>
          <a href="/outcome/reference/macros/co_tryx_failure_likely/">
            <code>OUTCOME_CO_TRYX_FAILURE_LIKELY(expr)</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/macros/co_try_failure_likely/" class="dd-item">
        <div>
          <a href="/outcome/reference/macros/co_try_failure_likely/">
            <code>OUTCOME_CO_TRY_FAILURE_LIKELY(var, expr)</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/macros/disable_execinfo/" class="dd-item">
        <div>
          <a href="/outcome/reference/macros/disable_execinfo/">
            <code>OUTCOME_DISABLE_EXECINFO</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/macros/enable_legacy_support_for/" class="dd-item">
        <div>
          <a href="/outcome/reference/macros/enable_legacy_support_for/">
            <code>OUTCOME_ENABLE_LEGACY_SUPPORT_FOR</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/macros/nodiscard/" class="dd-item">
        <div>
          <a href="/outcome/reference/macros/nodiscard/">
            <code>OUTCOME_NODISCARD</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/macros/requires/" class="dd-item">
        <div>
          <a href="/outcome/reference/macros/requires/">
            <code>OUTCOME_REQUIRES(...)</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/macros/symbol_visible/" class="dd-item">
        <div>
          <a href="/outcome/reference/macros/symbol_visible/">
            <code>OUTCOME_SYMBOL_VISIBLE</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/macros/thread_local/" class="dd-item">
        <div>
          <a href="/outcome/reference/macros/thread_local/">
            <code>OUTCOME_THREAD_LOCAL</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/macros/throw_exception/" class="dd-item">
        <div>
          <a href="/outcome/reference/macros/throw_exception/">
            <code>OUTCOME_THROW_EXCEPTION(expr)</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/macros/try/" class="dd-item">
        <div>
          <a href="/outcome/reference/macros/try/">
            <code>OUTCOME_TRY(var, expr)</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/macros/tryv/" class="dd-item">
        <div>
          <a href="/outcome/reference/macros/tryv/">
            <code>OUTCOME_TRYV(expr)/OUTCOME_TRY(expr)</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/macros/tryv2/" class="dd-item">
        <div>
          <a href="/outcome/reference/macros/tryv2/">
            <code>OUTCOME_TRYV2(spec, expr)</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/macros/tryv2_failure_likely/" class="dd-item">
        <div>
          <a href="/outcome/reference/macros/tryv2_failure_likely/">
            <code>OUTCOME_TRYV2_FAILURE_LIKELY(spec, expr)</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/macros/tryv_failure_likely/" class="dd-item">
        <div>
          <a href="/outcome/reference/macros/tryv_failure_likely/">
            <code>OUTCOME_TRYV_FAILURE_LIKELY(expr)/OUTCOME_TRY_FAILURE_LIKELY(expr)</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/macros/tryx/" class="dd-item">
        <div>
          <a href="/outcome/reference/macros/tryx/">
            <code>OUTCOME_TRYX(expr)</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/macros/tryx_failure_likely/" class="dd-item">
        <div>
          <a href="/outcome/reference/macros/tryx_failure_likely/">
            <code>OUTCOME_TRYX_FAILURE_LIKELY(expr)</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/macros/try_failure_likely/" class="dd-item">
        <div>
          <a href="/outcome/reference/macros/try_failure_likely/">
            <code>OUTCOME_TRY_FAILURE_LIKELY(var, expr)</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/macros/in_place_type/" class="dd-item">
        <div>
          <a href="/outcome/reference/macros/in_place_type/">
            <code>OUTCOME_USE_STD_IN_PLACE_TYPE</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/macros/is_nothrow_swappable/" class="dd-item">
        <div>
          <a href="/outcome/reference/macros/is_nothrow_swappable/">
            <code>OUTCOME_USE_STD_IS_NOTHROW_SWAPPABLE</code>
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/outcome/reference/concepts/" class="dd-item haschildren
        ">
      <div>
      <a href="/outcome/reference/concepts/">Concepts</a><i class="fa fa-angle-right fa-lg category-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/outcome/reference/concepts/basic_outcome/" class="dd-item">
        <div>
          <a href="/outcome/reference/concepts/basic_outcome/">
            <code>basic_outcome&lt;T&gt;</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/concepts/basic_result/" class="dd-item">
        <div>
          <a href="/outcome/reference/concepts/basic_result/">
            <code>basic_result&lt;T&gt;</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/concepts/value_or_error/" class="dd-item">
        <div>
          <a href="/outcome/reference/concepts/value_or_error/">
            <code>value_or_error&lt;T&gt;</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/concepts/value_or_none/" class="dd-item">
        <div>
          <a href="/outcome/reference/concepts/value_or_none/">
            <code>value_or_none&lt;T&gt;</code>
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/outcome/reference/converters/" class="dd-item haschildren
        ">
      <div>
      <a href="/outcome/reference/converters/">Converters</a><i class="fa fa-angle-right fa-lg category-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/outcome/reference/converters/value_or_error/" class="dd-item">
        <div>
          <a href="/outcome/reference/converters/value_or_error/">
            <code>value_or_error&lt;T, U&gt;</code>
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/outcome/reference/traits/" class="dd-item haschildren
        ">
      <div>
      <a href="/outcome/reference/traits/">Traits</a><i class="fa fa-angle-right fa-lg category-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/outcome/reference/traits/is_basic_outcome/" class="dd-item">
        <div>
          <a href="/outcome/reference/traits/is_basic_outcome/">
            <code>is_basic_outcome&lt;T&gt;</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/traits/is_basic_result/" class="dd-item">
        <div>
          <a href="/outcome/reference/traits/is_basic_result/">
            <code>is_basic_result&lt;T&gt;</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/traits/is_error_code_available/" class="dd-item">
        <div>
          <a href="/outcome/reference/traits/is_error_code_available/">
            <code>is_error_code_available&lt;T&gt;</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/traits/is_error_type/" class="dd-item">
        <div>
          <a href="/outcome/reference/traits/is_error_type/">
            <code>is_error_type&lt;E&gt;</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/traits/is_error_type_enum/" class="dd-item">
        <div>
          <a href="/outcome/reference/traits/is_error_type_enum/">
            <code>is_error_type_enum&lt;E, Enum&gt;</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/traits/is_exception_ptr_available/" class="dd-item">
        <div>
          <a href="/outcome/reference/traits/is_exception_ptr_available/">
            <code>is_exception_ptr_available&lt;T&gt;</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/traits/is_failure_type/" class="dd-item">
        <div>
          <a href="/outcome/reference/traits/is_failure_type/">
            <code>is_failure_type&lt;T&gt;</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/traits/is_move_bitcopying/" class="dd-item">
        <div>
          <a href="/outcome/reference/traits/is_move_bitcopying/">
            <code>is_move_bitcopying&lt;T&gt;</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/traits/is_success_type/" class="dd-item">
        <div>
          <a href="/outcome/reference/traits/is_success_type/">
            <code>is_success_type&lt;T&gt;</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/traits/type_can_be_used_in_basic_result/" class="dd-item">
        <div>
          <a href="/outcome/reference/traits/type_can_be_used_in_basic_result/">
            <code>type_can_be_used_in_basic_result&lt;R&gt;</code>
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/outcome/reference/policies/" class="dd-item haschildren
        ">
      <div>
      <a href="/outcome/reference/policies/">Policies</a><i class="fa fa-angle-right fa-lg category-icon"></i>
      </div>
        <ul>
    <li data-nav-id="/outcome/reference/policies/base/" class="dd-item haschildren
        ">
      <div>
      <a href="/outcome/reference/policies/base/"><code>base</code></a><i class="fa fa-angle-right fa-lg category-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/outcome/reference/policies/base/ub/" class="dd-item">
        <div>
          <a href="/outcome/reference/policies/base/ub/">
            <code>static void _ub(Impl &amp;&amp;)</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/policies/base/has_value/" class="dd-item">
        <div>
          <a href="/outcome/reference/policies/base/has_value/">
            <code>static bool _has_value(Impl &amp;&amp;) noexcept</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/policies/base/has_error/" class="dd-item">
        <div>
          <a href="/outcome/reference/policies/base/has_error/">
            <code>static bool _has_error(Impl &amp;&amp;) noexcept</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/policies/base/has_exception/" class="dd-item">
        <div>
          <a href="/outcome/reference/policies/base/has_exception/">
            <code>static bool _has_exception(Impl &amp;&amp;) noexcept</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/policies/base/has_error_is_errno/" class="dd-item">
        <div>
          <a href="/outcome/reference/policies/base/has_error_is_errno/">
            <code>static bool _has_error_is_errno(Impl &amp;&amp;) noexcept</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/policies/base/value/" class="dd-item">
        <div>
          <a href="/outcome/reference/policies/base/value/">
            <code>static auto &amp;&amp;_value(Impl &amp;&amp;) noexcept</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/policies/base/error/" class="dd-item">
        <div>
          <a href="/outcome/reference/policies/base/error/">
            <code>static auto &amp;&amp;_error(Impl &amp;&amp;) noexcept</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/policies/base/exception/" class="dd-item">
        <div>
          <a href="/outcome/reference/policies/base/exception/">
            <code>static auto &amp;&amp;_exception(Impl &amp;&amp;) noexcept</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/policies/base/set_has_value/" class="dd-item">
        <div>
          <a href="/outcome/reference/policies/base/set_has_value/">
            <code>static void _set_has_value(Impl &amp;&amp;, bool) noexcept</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/policies/base/set_has_error/" class="dd-item">
        <div>
          <a href="/outcome/reference/policies/base/set_has_error/">
            <code>static void _set_has_error(Impl &amp;&amp;, bool) noexcept</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/policies/base/set_has_exception/" class="dd-item">
        <div>
          <a href="/outcome/reference/policies/base/set_has_exception/">
            <code>static void _set_has_exception(Impl &amp;&amp;, bool) noexcept</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/policies/base/set_has_error_is_errno/" class="dd-item">
        <div>
          <a href="/outcome/reference/policies/base/set_has_error_is_errno/">
            <code>static void _set_has_exception(Impl &amp;&amp;, bool) noexcept</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/policies/base/narrow_value_check/" class="dd-item">
        <div>
          <a href="/outcome/reference/policies/base/narrow_value_check/">
            <code>static void narrow_value_check(Impl &amp;&amp;) noexcept</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/policies/base/narrow_error_check/" class="dd-item">
        <div>
          <a href="/outcome/reference/policies/base/narrow_error_check/">
            <code>static void narrow_error_check(Impl &amp;&amp;) noexcept</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/policies/base/narrow_exception_check/" class="dd-item">
        <div>
          <a href="/outcome/reference/policies/base/narrow_exception_check/">
            <code>static void narrow_exception_check(Impl &amp;&amp;) noexcept</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/policies/base/on_outcome_construction/" class="dd-item">
        <div>
          <a href="/outcome/reference/policies/base/on_outcome_construction/">
            <code>static void on_outcome_construction(T *, U &amp;&amp;) noexcept</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/policies/base/on_outcome_construction2/" class="dd-item">
        <div>
          <a href="/outcome/reference/policies/base/on_outcome_construction2/">
            <code>static void on_outcome_construction(T *, U &amp;&amp;, V &amp;&amp;) noexcept</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/policies/base/on_outcome_copy_construction/" class="dd-item">
        <div>
          <a href="/outcome/reference/policies/base/on_outcome_copy_construction/">
            <code>static void on_outcome_copy_construction(T *, U &amp;&amp;) noexcept</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/policies/base/on_outcome_copy_construction2/" class="dd-item">
        <div>
          <a href="/outcome/reference/policies/base/on_outcome_copy_construction2/">
            <code>static void on_outcome_copy_construction(T *, U &amp;&amp;, V &amp;&amp;) noexcept</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/policies/base/on_outcome_in_place_construction/" class="dd-item">
        <div>
          <a href="/outcome/reference/policies/base/on_outcome_in_place_construction/">
            <code>static void on_outcome_in_place_construction(T *, in_place_type_t&lt;U&gt;, Args &amp;&amp;...) noexcept</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/policies/base/on_outcome_move_construction/" class="dd-item">
        <div>
          <a href="/outcome/reference/policies/base/on_outcome_move_construction/">
            <code>static void on_outcome_move_construction(T *, U &amp;&amp;) noexcept</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/policies/base/on_outcome_move_construction2/" class="dd-item">
        <div>
          <a href="/outcome/reference/policies/base/on_outcome_move_construction2/">
            <code>static void on_outcome_move_construction(T *, U &amp;&amp;, V &amp;&amp;) noexcept</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/policies/base/on_result_construction/" class="dd-item">
        <div>
          <a href="/outcome/reference/policies/base/on_result_construction/">
            <code>static void on_result_construction(T *, U &amp;&amp;) noexcept</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/policies/base/on_result_copy_construction/" class="dd-item">
        <div>
          <a href="/outcome/reference/policies/base/on_result_copy_construction/">
            <code>static void on_result_copy_construction(T *, U &amp;&amp;) noexcept</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/policies/base/on_result_in_place_construction/" class="dd-item">
        <div>
          <a href="/outcome/reference/policies/base/on_result_in_place_construction/">
            <code>static void on_result_in_place_construction(T *, in_place_type_t&lt;U&gt;, Args &amp;&amp;...) noexcept</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/policies/base/on_result_move_construction/" class="dd-item">
        <div>
          <a href="/outcome/reference/policies/base/on_result_move_construction/">
            <code>static void on_result_move_construction(T *, U &amp;&amp;) noexcept</code>
          </a>
        </div>
    </li>
        </ul>
    </li>
      <li data-nav-id="/outcome/reference/policies/all_narrow/" class="dd-item">
        <div>
          <a href="/outcome/reference/policies/all_narrow/">
            <code>all_narrow</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/policies/error_code_throw_as_system_error_outcome/" class="dd-item">
        <div>
          <a href="/outcome/reference/policies/error_code_throw_as_system_error_outcome/">
            <code>error_code_throw_as_system_error&lt;T, EC, EP&gt;</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/policies/error_code_throw_as_system_error_result/" class="dd-item">
        <div>
          <a href="/outcome/reference/policies/error_code_throw_as_system_error_result/">
            <code>error_code_throw_as_system_error&lt;T, EC, void&gt;</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/policies/exception_ptr_rethrow_outcome/" class="dd-item">
        <div>
          <a href="/outcome/reference/policies/exception_ptr_rethrow_outcome/">
            <code>exception_ptr_rethrow&lt;T, EC, EP&gt;</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/policies/exception_ptr_rethrow_result/" class="dd-item">
        <div>
          <a href="/outcome/reference/policies/exception_ptr_rethrow_result/">
            <code>exception_ptr_rethrow&lt;T, EC, void&gt;</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/policies/fail_to_compile_observers/" class="dd-item">
        <div>
          <a href="/outcome/reference/policies/fail_to_compile_observers/">
            <code>fail_to_compile_observers</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/policies/terminate/" class="dd-item">
        <div>
          <a href="/outcome/reference/policies/terminate/">
            <code>terminate</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/policies/throw_bad_result_access/" class="dd-item">
        <div>
          <a href="/outcome/reference/policies/throw_bad_result_access/">
            <code>throw_bad_result_access&lt;EC&gt;</code>
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/outcome/reference/types/" class="dd-item haschildren
        ">
      <div>
      <a href="/outcome/reference/types/">Types</a><i class="fa fa-angle-right fa-lg category-icon"></i>
      </div>
        <ul>
        </ul>
    </li>
    <li data-nav-id="/outcome/reference/aliases/" class="dd-item haschildren
        ">
      <div>
      <a href="/outcome/reference/aliases/">Aliases</a><i class="fa fa-angle-right fa-lg category-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/outcome/reference/aliases/boost_checked/" class="dd-item">
        <div>
          <a href="/outcome/reference/aliases/boost_checked/">
            <code>boost_checked&lt;T, E = boost::system::error_code&gt;</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/aliases/boost_outcome/" class="dd-item">
        <div>
          <a href="/outcome/reference/aliases/boost_outcome/">
            <code>boost_outcome&lt;T, EC = boost::system::error_code, EP = boost::exception_ptr, NoValuePolicy = policy::default_policy&lt;T, EC, EP&gt;&gt;</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/aliases/boost_result/" class="dd-item">
        <div>
          <a href="/outcome/reference/aliases/boost_result/">
            <code>boost_result&lt;T, E = boost::system::error_code, NoValuePolicy = policy::default_policy&lt;T, E, void&gt;&gt;</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/aliases/boost_unchecked/" class="dd-item">
        <div>
          <a href="/outcome/reference/aliases/boost_unchecked/">
            <code>boost_unchecked&lt;T, E = boost::system::error_code&gt;</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/aliases/checked/" class="dd-item">
        <div>
          <a href="/outcome/reference/aliases/checked/">
            <code>checked&lt;T, E = varies&gt;</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/aliases/default_policy/" class="dd-item">
        <div>
          <a href="/outcome/reference/aliases/default_policy/">
            <code>default_policy&lt;T, EC, EP&gt;</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/aliases/outcome/" class="dd-item">
        <div>
          <a href="/outcome/reference/aliases/outcome/">
            <code>outcome&lt;T, EC = varies, EP = varies, NoValuePolicy = policy::default_policy&lt;T, EC, EP&gt;&gt;</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/aliases/result/" class="dd-item">
        <div>
          <a href="/outcome/reference/aliases/result/">
            <code>result&lt;T, E = varies, NoValuePolicy = policy::default_policy&lt;T, E, void&gt;&gt;</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/aliases/std_checked/" class="dd-item">
        <div>
          <a href="/outcome/reference/aliases/std_checked/">
            <code>std_checked&lt;T, E = std::error_code&gt;</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/aliases/std_outcome/" class="dd-item">
        <div>
          <a href="/outcome/reference/aliases/std_outcome/">
            <code>std_outcome&lt;T, EC = std::error_code, EP = std::exception_ptr, NoValuePolicy = policy::default_policy&lt;T, EC, EP&gt;&gt;</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/aliases/std_result/" class="dd-item">
        <div>
          <a href="/outcome/reference/aliases/std_result/">
            <code>std_result&lt;T, E = std::error_code, NoValuePolicy = policy::default_policy&lt;T, E, void&gt;&gt;</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/aliases/std_unchecked/" class="dd-item">
        <div>
          <a href="/outcome/reference/aliases/std_unchecked/">
            <code>std_unchecked&lt;T, E = std::error_code&gt;</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/aliases/unchecked/" class="dd-item">
        <div>
          <a href="/outcome/reference/aliases/unchecked/">
            <code>unchecked&lt;T, E = varies&gt;</code>
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/outcome/reference/functions/" class="dd-item haschildren
        ">
      <div>
      <a href="/outcome/reference/functions/">Functions</a><i class="fa fa-angle-right fa-lg category-icon"></i>
      </div>
        <ul>
    <li data-nav-id="/outcome/reference/functions/hooks/" class="dd-item haschildren
        ">
      <div>
      <a href="/outcome/reference/functions/hooks/">Hooks</a><i class="fa fa-angle-right fa-lg category-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/outcome/reference/functions/hooks/spare_storage/" class="dd-item">
        <div>
          <a href="/outcome/reference/functions/hooks/spare_storage/">
            <code>uint16_t spare_storage(const basic_result|basic_outcome *) noexcept</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/functions/hooks/hook_outcome_construction/" class="dd-item">
        <div>
          <a href="/outcome/reference/functions/hooks/hook_outcome_construction/">
            <code>void hook_outcome_construction(T *, U &amp;&amp;) noexcept</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/functions/hooks/hook_outcome_construction2/" class="dd-item">
        <div>
          <a href="/outcome/reference/functions/hooks/hook_outcome_construction2/">
            <code>void hook_outcome_construction(T *, U &amp;&amp;, V &amp;&amp;) noexcept</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/functions/hooks/hook_outcome_copy_construction/" class="dd-item">
        <div>
          <a href="/outcome/reference/functions/hooks/hook_outcome_copy_construction/">
            <code>void hook_outcome_copy_construction(T *, U &amp;&amp;) noexcept</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/functions/hooks/hook_outcome_copy_construction2/" class="dd-item">
        <div>
          <a href="/outcome/reference/functions/hooks/hook_outcome_copy_construction2/">
            <code>void hook_outcome_copy_construction(T *, U &amp;&amp;, V &amp;&amp;) noexcept</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/functions/hooks/hook_outcome_in_place_construction/" class="dd-item">
        <div>
          <a href="/outcome/reference/functions/hooks/hook_outcome_in_place_construction/">
            <code>void hook_outcome_in_place_construction(T *, in_place_type_t&lt;U&gt;, Args &amp;&amp;...) noexcept</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/functions/hooks/hook_outcome_move_construction/" class="dd-item">
        <div>
          <a href="/outcome/reference/functions/hooks/hook_outcome_move_construction/">
            <code>void hook_outcome_move_construction(T *, U &amp;&amp;) noexcept</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/functions/hooks/hook_outcome_move_construction2/" class="dd-item">
        <div>
          <a href="/outcome/reference/functions/hooks/hook_outcome_move_construction2/">
            <code>void hook_outcome_move_construction(T *, U &amp;&amp;, V &amp;&amp;) noexcept</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/functions/hooks/hook_result_construction/" class="dd-item">
        <div>
          <a href="/outcome/reference/functions/hooks/hook_result_construction/">
            <code>void hook_result_construction(T *, U &amp;&amp;) noexcept</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/functions/hooks/hook_result_copy_construction/" class="dd-item">
        <div>
          <a href="/outcome/reference/functions/hooks/hook_result_copy_construction/">
            <code>void hook_result_copy_construction(T *, U &amp;&amp;) noexcept</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/functions/hooks/hook_result_in_place_construction/" class="dd-item">
        <div>
          <a href="/outcome/reference/functions/hooks/hook_result_in_place_construction/">
            <code>void hook_result_in_place_construction(T *, in_place_type_t&lt;U&gt;, Args &amp;&amp;...) noexcept</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/functions/hooks/hook_result_move_construction/" class="dd-item">
        <div>
          <a href="/outcome/reference/functions/hooks/hook_result_move_construction/">
            <code>void hook_result_move_construction(T *, U &amp;&amp;) noexcept</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/functions/hooks/override_outcome_exception/" class="dd-item">
        <div>
          <a href="/outcome/reference/functions/hooks/override_outcome_exception/">
            <code>void override_outcome_exception(basic_outcome&lt;T, EC, EP, NoValuePolicy&gt; *, U &amp;&amp;) noexcept</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/functions/hooks/set_spare_storage/" class="dd-item">
        <div>
          <a href="/outcome/reference/functions/hooks/set_spare_storage/">
            <code>void set_spare_storage(basic_result|basic_outcome *, uint16_t) noexcept</code>
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/outcome/reference/functions/iostream/" class="dd-item haschildren
        ">
      <div>
      <a href="/outcome/reference/functions/iostream/">Iostream</a><i class="fa fa-angle-right fa-lg category-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/outcome/reference/functions/iostream/outcome_operator_in/" class="dd-item">
        <div>
          <a href="/outcome/reference/functions/iostream/outcome_operator_in/">
            <code>std::istream &amp;operator&gt;&gt;(std::istream &amp;, basic_outcome&lt;T, EC, EP, NoValuePolicy&gt; &amp;)</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/functions/iostream/result_operator_in/" class="dd-item">
        <div>
          <a href="/outcome/reference/functions/iostream/result_operator_in/">
            <code>std::istream &amp;operator&gt;&gt;(std::istream &amp;, basic_result&lt;T, E, NoValuePolicy&gt; &amp;)</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/functions/iostream/outcome_operator_out/" class="dd-item">
        <div>
          <a href="/outcome/reference/functions/iostream/outcome_operator_out/">
            <code>std::ostream &amp;operator&lt;&lt;(std::ostream &amp;, const basic_outcome&lt;T, EC, EP, NoValuePolicy&gt; &amp;)</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/functions/iostream/result_operator_out/" class="dd-item">
        <div>
          <a href="/outcome/reference/functions/iostream/result_operator_out/">
            <code>std::ostream &amp;operator&lt;&lt;(std::ostream &amp;, const basic_result&lt;T, E, NoValuePolicy&gt; &amp;)</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/functions/iostream/outcome_print/" class="dd-item">
        <div>
          <a href="/outcome/reference/functions/iostream/outcome_print/">
            <code>std::string print(const basic_outcome&lt;T, EC, EP, NoValuePolicy&gt; &amp;)</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/functions/iostream/result_print/" class="dd-item">
        <div>
          <a href="/outcome/reference/functions/iostream/result_print/">
            <code>std::string print(const basic_result&lt;T, E, NoValuePolicy&gt; &amp;)</code>
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/outcome/reference/functions/policy/" class="dd-item haschildren
        ">
      <div>
      <a href="/outcome/reference/functions/policy/">Policy</a><i class="fa fa-angle-right fa-lg category-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/outcome/reference/functions/policy/basic_outcome_failure_exception_from_error/" class="dd-item">
        <div>
          <a href="/outcome/reference/functions/policy/basic_outcome_failure_exception_from_error/">
            <code>auto basic_outcome_failure_exception_from_error(const EC &amp;)</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/functions/policy/error_code/" class="dd-item">
        <div>
          <a href="/outcome/reference/functions/policy/error_code/">
            <code>decltype(auto) error_code(T &amp;&amp;)</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/functions/policy/exception_ptr/" class="dd-item">
        <div>
          <a href="/outcome/reference/functions/policy/exception_ptr/">
            <code>decltype(auto) exception_ptr(T &amp;&amp;)</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/functions/policy/outcome_throw_as_system_error_with_payload_boost_enum/" class="dd-item">
        <div>
          <a href="/outcome/reference/functions/policy/outcome_throw_as_system_error_with_payload_boost_enum/">
            <code>void outcome_throw_as_system_error_with_payload(BoostErrorCodeEnum &amp;&amp;)</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/functions/policy/outcome_throw_as_system_error_with_payload_std_enum/" class="dd-item">
        <div>
          <a href="/outcome/reference/functions/policy/outcome_throw_as_system_error_with_payload_std_enum/">
            <code>void outcome_throw_as_system_error_with_payload(ErrorCodeEnum &amp;&amp;)</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/functions/policy/outcome_throw_as_system_error_with_payload_boost_error_code/" class="dd-item">
        <div>
          <a href="/outcome/reference/functions/policy/outcome_throw_as_system_error_with_payload_boost_error_code/">
            <code>void outcome_throw_as_system_error_with_payload(const boost::system::error_code &amp;)</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/functions/policy/outcome_throw_as_system_error_with_payload_std_error_code/" class="dd-item">
        <div>
          <a href="/outcome/reference/functions/policy/outcome_throw_as_system_error_with_payload_std_error_code/">
            <code>void outcome_throw_as_system_error_with_payload(const std::error_code &amp;)</code>
          </a>
        </div>
    </li>
        </ul>
    </li>
      <li data-nav-id="/outcome/reference/functions/failure/" class="dd-item">
        <div>
          <a href="/outcome/reference/functions/failure/">
            <code>auto failure(T &amp;&amp;, ...)</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/functions/success/" class="dd-item">
        <div>
          <a href="/outcome/reference/functions/success/">
            <code>auto success(T &amp;&amp;, ...)</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/functions/try_operation_has_value/" class="dd-item">
        <div>
          <a href="/outcome/reference/functions/try_operation_has_value/">
            <code>bool try_operation_has_value(X)</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/functions/try_operation_extract_value/" class="dd-item">
        <div>
          <a href="/outcome/reference/functions/try_operation_extract_value/">
            <code>decltype(auto) try_operation_extract_value(X)</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/functions/try_operation_return_as/" class="dd-item">
        <div>
          <a href="/outcome/reference/functions/try_operation_return_as/">
            <code>decltype(auto) try_operation_return_as(X)</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/functions/error_from_exception/" class="dd-item">
        <div>
          <a href="/outcome/reference/functions/error_from_exception/">
            <code>std::error_code error_from_exception(std::exception_ptr &amp;&amp;ep = std::current_exception(), std::error_code not_matched = std::make_error_code(std::errc::resource_unavailable_try_again)) noexcept</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/functions/strong_swap/" class="dd-item">
        <div>
          <a href="/outcome/reference/functions/strong_swap/">
            <code>void strong_swap(bool &amp;all_good, T &amp;a, T &amp;b)</code>
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/reference/functions/try_throw_std_exception_from_error/" class="dd-item">
        <div>
          <a href="/outcome/reference/functions/try_throw_std_exception_from_error/">
            <code>void try_throw_std_exception_from_error(std::error_code ec, const std::string &amp;msg = std::string{})</code>
          </a>
        </div>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li data-nav-id="/outcome/faq/" class="dd-item
        ">
      <div>
      <a href="/outcome/faq/">Frequently asked questions</a>
      </div>
    </li>
    <li data-nav-id="/outcome/videos/" class="dd-item
        ">
      <div>
      <a href="/outcome/videos/">Videos</a>
      </div>
    </li>
    <li data-nav-id="/outcome/changelog/" class="dd-item haschildren
        ">
      <div>
      <a href="/outcome/changelog/">Changelog</a><i class="fa fa-angle-right fa-lg category-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/outcome/changelog/upgrade_v21_v22/" class="dd-item">
        <div>
          <a href="/outcome/changelog/upgrade_v21_v22/">
            Upgrade guide v2.1 =&gt; v2.2
          </a>
        </div>
    </li>
      <li data-nav-id="/outcome/changelog/v22/" class="dd-item">
        <div>
          <a href="/outcome/changelog/v22/">
            v2.2 major changes
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/outcome/history/" class="dd-item
        ">
      <div>
      <a href="/outcome/history/">History</a>
      </div>
    </li>




    </ul>
    <section>
    </section>
  </aside>
  <section class="page">
    
    <div class="nav-select">
      <center>Navigation : 
        <select onchange="javascript:location.href = this.value;">
          
    <option value="/outcome/requirements/" >
   Prerequisites</option>
    <option value="/outcome/build/" >
   Build and install</option>
    <option value="/outcome/alternatives/" >
   Review of Error Handling Frameworks</option>
    <option value="/outcome/motivation/" >
   Motivation</option> 
      <option value="/outcome/motivation/exceptions/" >- Exceptions</option>
      <option value="/outcome/motivation/errno/" >- errno</option>
      <option value="/outcome/motivation/error_codes/" >- Error codes</option>
      <option value="/outcome/motivation/std_error_code/" >- std::error_code</option>
      <option value="/outcome/motivation/plug_error_code/" >- Plugging a library into `std::error_code`</option>
      <option value="/outcome/motivation/plug_error_code2/"  selected>- Plugging a library into `boost::system::error_code`</option>
      <option value="/outcome/motivation/narrow_contract/" >- Narrow contracts</option>
  
    <option value="/outcome/abi-stability/" >
   Future ABI stability guarantees</option>
    <option value="/outcome/tutorial/" >
   Tutorial</option>
    <option value="/outcome/recipes/" >
   Recipes</option>
    <option value="/outcome/experimental/" >
   Experimental</option>
    <option value="/outcome/reference/" >
   API reference</option>
    <option value="/outcome/faq/" >
   Frequently asked questions</option>
    <option value="/outcome/videos/" >
   Videos</option>
    <option value="/outcome/changelog/" >
   Changelog</option>
    <option value="/outcome/history/" >
   History</option>



        </select>
      </center>
    </div>
      <div>
        <div class="searchbox">
          <input data-search-input id="search-by" type="text" placeholder="Search...">
        </div>
        <script type="text/javascript" src="/outcome/js/lunr.min.js"></script>
        <script type="text/javascript" src="/outcome/js/auto-complete.js"></script>
        <link href="/outcome/css/auto-complete.css" rel="stylesheet">
        <script type="text/javascript">
          
              var baseurl = "https:\/\/ned14.github.io\/outcome\/";
          
        </script>
        <script type="text/javascript" src="/outcome/js/search.js"></script>
      </div>
    

    <h1>Plugging a library into <code>boost::system::error_code</code></h1>
    
    
    
    <p><a href="/outcome/motivation/plug_error_code/">See here for this guide, but for <code>std::error_code</code></a>.</p>

<p>This section illustrates how you can hook into the <code>boost::system::error_code</code> system from
the Boost in order to work with your own set of error codes. As is usually
the case in C++, doing this is straightforward but requires typing boilerplate
to tell Boost.System about your custom error type. This is not part of Outcome library,
but we still provide this short guide here, because how to do this is not well documented [1].</p>

<p>Suppose you want to report all reasons for failure in converting a <code>std::string</code> to a non-negative <code>int</code>.
The list is:</p>

<ul>
<li><code>EmptyString</code> &ndash; the input string is empty,</li>
<li><code>IllegalChar</code> &ndash; input contains characters that are not digits,</li>
<li><code>TooLong</code> &ndash; input represents a number, but this number would not fit into a variable of type <code>int</code>.</li>
</ul>

<div class="code-snippet"><div class="highlight"><pre class="chroma"><code class="language-c++" data-lang="c++"><span class="cp">#include</span> <span class="cpf">&lt;boost/system/error_code.hpp&gt;  // bring in boost::system::error_code et al</span><span class="cp">
</span><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span><span class="cp">#include</span> <span class="cpf">&lt;string&gt;  // for string printing</span><span class="cp">
</span><span class="cp"></span>
<span class="c1">// This is the custom error code enum
</span><span class="c1"></span><span class="k">enum</span> <span class="k">class</span><span class="err"> </span><span class="nc">ConversionErrc</span>
<span class="p">{</span>
  <span class="n">Success</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>  <span class="c1">// 0 should not represent an error
</span><span class="c1"></span>  <span class="n">EmptyString</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
  <span class="n">IllegalChar</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
  <span class="n">TooLong</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">namespace</span> <span class="n">boost</span>
<span class="p">{</span>
  <span class="k">namespace</span> <span class="n">system</span>
  <span class="p">{</span>
    <span class="c1">// Tell the C++ 11 STL metaprogramming that enum ConversionErrc
</span><span class="c1"></span>    <span class="c1">// is registered with the standard error code system
</span><span class="c1"></span>    <span class="k">template</span> <span class="o">&lt;&gt;</span> <span class="k">struct</span> <span class="n">is_error_code_enum</span><span class="o">&lt;</span><span class="n">ConversionErrc</span><span class="o">&gt;</span> <span class="o">:</span> <span class="n">std</span><span class="o">::</span><span class="n">true_type</span>
    <span class="p">{</span>
    <span class="p">};</span>
  <span class="p">}</span>  <span class="c1">// namespace system
</span><span class="c1"></span><span class="p">}</span>  <span class="c1">// namespace boost
</span><span class="c1"></span>
<span class="k">namespace</span> <span class="n">detail</span>
<span class="p">{</span>
  <span class="c1">// Define a custom error code category derived from boost::system::error_category
</span><span class="c1"></span>  <span class="k">class</span><span class="err"> </span><span class="nc">ConversionErrc_category</span> <span class="o">:</span> <span class="k">public</span> <span class="n">boost</span><span class="o">::</span><span class="n">system</span><span class="o">::</span><span class="n">error_category</span>
  <span class="p">{</span>
  <span class="k">public</span><span class="o">:</span>
    <span class="c1">// Return a short descriptive name for the category
</span><span class="c1"></span>    <span class="k">virtual</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">name</span><span class="p">()</span> <span class="k">const</span> <span class="k">noexcept</span> <span class="k">override</span> <span class="k">final</span> <span class="p">{</span> <span class="k">return</span> <span class="s">&#34;ConversionError&#34;</span><span class="p">;</span> <span class="p">}</span>
    <span class="c1">// Return what each enum means in text
</span><span class="c1"></span>    <span class="k">virtual</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">message</span><span class="p">(</span><span class="kt">int</span> <span class="n">c</span><span class="p">)</span> <span class="k">const</span> <span class="k">override</span> <span class="k">final</span>
    <span class="p">{</span>
      <span class="k">switch</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="n">ConversionErrc</span><span class="o">&gt;</span><span class="p">(</span><span class="n">c</span><span class="p">))</span>
      <span class="p">{</span>
      <span class="k">case</span> <span class="n">ConversionErrc</span><span class="o">::</span><span class="nl">Success</span><span class="p">:</span>
        <span class="k">return</span> <span class="s">&#34;conversion successful&#34;</span><span class="p">;</span>
      <span class="k">case</span> <span class="n">ConversionErrc</span><span class="o">::</span><span class="nl">EmptyString</span><span class="p">:</span>
        <span class="k">return</span> <span class="s">&#34;converting empty string&#34;</span><span class="p">;</span>
      <span class="k">case</span> <span class="n">ConversionErrc</span><span class="o">::</span><span class="nl">IllegalChar</span><span class="p">:</span>
        <span class="k">return</span> <span class="s">&#34;got non-digit char when converting to a number&#34;</span><span class="p">;</span>
      <span class="k">case</span> <span class="n">ConversionErrc</span><span class="o">::</span><span class="nl">TooLong</span><span class="p">:</span>
        <span class="k">return</span> <span class="s">&#34;the number would not fit into memory&#34;</span><span class="p">;</span>
      <span class="k">default</span><span class="o">:</span>
        <span class="k">return</span> <span class="s">&#34;unknown&#34;</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">}</span>
    <span class="c1">// OPTIONAL: Allow generic error conditions to be compared to me
</span><span class="c1"></span>    <span class="k">virtual</span> <span class="n">boost</span><span class="o">::</span><span class="n">system</span><span class="o">::</span><span class="n">error_condition</span> <span class="n">default_error_condition</span><span class="p">(</span><span class="kt">int</span> <span class="n">c</span><span class="p">)</span> <span class="k">const</span> <span class="k">noexcept</span> <span class="k">override</span> <span class="k">final</span>
    <span class="p">{</span>
      <span class="k">switch</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="n">ConversionErrc</span><span class="o">&gt;</span><span class="p">(</span><span class="n">c</span><span class="p">))</span>
      <span class="p">{</span>
      <span class="k">case</span> <span class="n">ConversionErrc</span><span class="o">::</span><span class="nl">EmptyString</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">make_error_condition</span><span class="p">(</span><span class="n">boost</span><span class="o">::</span><span class="n">system</span><span class="o">::</span><span class="n">errc</span><span class="o">::</span><span class="n">invalid_argument</span><span class="p">);</span>
      <span class="k">case</span> <span class="n">ConversionErrc</span><span class="o">::</span><span class="nl">IllegalChar</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">make_error_condition</span><span class="p">(</span><span class="n">boost</span><span class="o">::</span><span class="n">system</span><span class="o">::</span><span class="n">errc</span><span class="o">::</span><span class="n">invalid_argument</span><span class="p">);</span>
      <span class="k">case</span> <span class="n">ConversionErrc</span><span class="o">::</span><span class="nl">TooLong</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">make_error_condition</span><span class="p">(</span><span class="n">boost</span><span class="o">::</span><span class="n">system</span><span class="o">::</span><span class="n">errc</span><span class="o">::</span><span class="n">result_out_of_range</span><span class="p">);</span>
      <span class="k">default</span><span class="o">:</span>
        <span class="c1">// I have no mapping for this code
</span><span class="c1"></span>        <span class="k">return</span> <span class="n">boost</span><span class="o">::</span><span class="n">system</span><span class="o">::</span><span class="n">error_condition</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="o">*</span><span class="k">this</span><span class="p">);</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">};</span>
<span class="p">}</span>  <span class="c1">// namespace detail
</span><span class="c1"></span>
<span class="c1">// Define the linkage for this function to be used by external code.
</span><span class="c1">// This would be the usual __declspec(dllexport) or __declspec(dllimport)
</span><span class="c1">// if we were in a Windows DLL etc. But for this example use a global
</span><span class="c1">// instance but with inline linkage so multiple definitions do not collide.
</span><span class="c1"></span><span class="cp">#define THIS_MODULE_API_DECL extern inline
</span><span class="cp"></span>
<span class="c1">// Declare a global function returning a static instance of the custom category
</span><span class="c1"></span><span class="n">THIS_MODULE_API_DECL</span> <span class="k">const</span> <span class="n">detail</span><span class="o">::</span><span class="n">ConversionErrc_category</span> <span class="o">&amp;</span><span class="n">ConversionErrc_category</span><span class="p">()</span>
<span class="p">{</span>
  <span class="k">static</span> <span class="n">detail</span><span class="o">::</span><span class="n">ConversionErrc_category</span> <span class="n">c</span><span class="p">;</span>
  <span class="k">return</span> <span class="n">c</span><span class="p">;</span>
<span class="p">}</span>


<span class="c1">// Overload the global make_error_code() free function with our
</span><span class="c1">// custom enum. It will be found via ADL by the compiler if needed.
</span><span class="c1"></span><span class="kr">inline</span> <span class="n">boost</span><span class="o">::</span><span class="n">system</span><span class="o">::</span><span class="n">error_code</span> <span class="n">make_error_code</span><span class="p">(</span><span class="n">ConversionErrc</span> <span class="n">e</span><span class="p">)</span>
<span class="p">{</span>
  <span class="k">return</span> <span class="p">{</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">e</span><span class="p">),</span> <span class="n">ConversionErrc_category</span><span class="p">()};</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="n">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
  <span class="c1">// Note that we can now supply ConversionErrc directly to error_code
</span><span class="c1"></span>  <span class="n">boost</span><span class="o">::</span><span class="n">system</span><span class="o">::</span><span class="n">error_code</span> <span class="n">ec</span> <span class="o">=</span> <span class="n">ConversionErrc</span><span class="o">::</span><span class="n">IllegalChar</span><span class="p">;</span>

  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;ConversionErrc::IllegalChar is printed by boost::system::error_code as &#34;</span>
    <span class="o">&lt;&lt;</span> <span class="n">ec</span> <span class="o">&lt;&lt;</span> <span class="s">&#34; with explanatory message &#34;</span> <span class="o">&lt;&lt;</span> <span class="n">ec</span><span class="p">.</span><span class="n">message</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>

  <span class="c1">// We can compare ConversionErrc containing error codes to generic conditions
</span><span class="c1"></span>  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;ec is equivalent to boost::system::errc::invalid_argument = &#34;</span>
    <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="n">ec</span> <span class="o">==</span> <span class="n">std</span><span class="o">::</span><span class="n">errc</span><span class="o">::</span><span class="n">invalid_argument</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;ec is equivalent to boost::system::errc::result_out_of_range = &#34;</span>
    <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="n">ec</span> <span class="o">==</span> <span class="n">std</span><span class="o">::</span><span class="n">errc</span><span class="o">::</span><span class="n">result_out_of_range</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div><a href="https://github.com/ned14/outcome/tree/master/doc/src/snippets/boost-only/error_code_registration.cpp#L26" class="code-snippet-url" target="_blank">View this code on Github</a></div>


<p>This might look like a lot of extra boilerplate over simply using your custom
error code enum directly, but look at the advantages:</p>

<ol>
<li>Any code which can speak <code>boost::system::error_code</code> can now work with errors from your
code, AND without being recompiled.</li>
<li><code>boost::system::system_error</code> can now wrap your custom error codes seamlessly, allowing
your custom error code to be converted into a C++ exception <em>and back out again</em>
without losing information.</li>
<li><code>boost::system::error_code</code> knows how to print itself, and will print your custom error
code without extra work from you. As usually you&rsquo;d need to define a print routine
for any custom error code you&rsquo;d write anyway, there is actually very little extra
boilerplate here.</li>
<li>If you implement the <code>default_error_condition()</code> override, you can allow code
exclusively written to understand <code>boost::system::errc</code> alone to examine your custom error
code domain for equivalence to the standard error conditions, AND without being
recompiled.</li>
</ol>

<div class="notices note" ><p>This documentation recommends that when you define your custom <code>enum</code> for representing
<code>error_code</code>s, you should always make sure that value 0 never represents an actual error:
it should either represent a success or should not be provided at all. If you only
intend to use your <code>enum</code> inside <code>result&lt;&gt;</code> or <code>outcome&lt;&gt;</code> you can just start your
enumerations from 1. If you intend to also return <code>boost::system::error_code</code> directly from
functions, you should probably define value 0 as success, so that you are able to
inform about function&rsquo;s success by returning <code>MyEnum::Success</code>. This is because <code>error_code</code>&rsquo;s
contextual conversion to <code>bool</code> (which some people use to check if there was an error or not)
only checks for the numeric value of the error code (without looking at error domain (category)).</p>
</div>


<p>[1]: The only documentation I&rsquo;m aware of is the quite old guide by Chris Kohlhoff, founder of ASIO and the Networking TS:</p>

<ul>
<li><a href="http://blog.think-async.com/2010/04/system-error-support-in-c0x-part-1.html">http://blog.think-async.com/2010/04/system-error-support-in-c0x-part-1.html</a></li>
<li><a href="http://blog.think-async.com/2010/04/system-error-support-in-c0x-part-2.html">http://blog.think-async.com/2010/04/system-error-support-in-c0x-part-2.html</a></li>
<li><a href="http://blog.think-async.com/2010/04/system-error-support-in-c0x-part-3.html">http://blog.think-async.com/2010/04/system-error-support-in-c0x-part-3.html</a></li>
<li><a href="http://blog.think-async.com/2010/04/system-error-support-in-c0x-part-4.html">http://blog.think-async.com/2010/04/system-error-support-in-c0x-part-4.html</a></li>
<li><a href="http://blog.think-async.com/2010/04/system-error-support-in-c0x-part-5.html">http://blog.think-async.com/2010/04/system-error-support-in-c0x-part-5.html</a></li>
</ul>


    
    
        <div class="chevrons">
    <div id="navigation">
<a class="nav nav-prev" href="/outcome/motivation/plug_error_code/" title="Plugging a library into `std::error_code`"> <i class="fa fa-chevron-left"></i><label>Plugging a library into <code>std::error_code</code></label></a>
    <a class="nav nav-next" href="/outcome/motivation/narrow_contract/" title="Narrow contracts" style="margin-right: 0px;"><label>Narrow contracts</label><i class="fa fa-chevron-right"></i></a></div>
  </div>

  </section>
</article>

<footer>

<div class="footline">
    

    

    
    <div class="date">
        <i class='fa fa-calendar'></i> Last update on 10/09/2021
    </div>
    

    
    <div class="github-link">
      <a href="https://github.com/ned14/outcome/edit/develop/doc/src/content/motivation/plug_error_code2.md" target="blank"><i class="fa fa-code-fork"></i>
        Improve this page</a>
    </div>
    
  </div>


	<div>


  
    
  



	</div>
</footer>

<script src="/outcome/js/clipboard.min.js"></script>

<link href="/outcome/css/featherlight.min.css" rel="stylesheet">
<script src="/outcome/js/featherlight.min.js"></script>



<script src="/outcome/theme-flex/script.js"></script>


    

    
    

    
  </body>
</html>